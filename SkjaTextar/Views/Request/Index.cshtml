@model IEnumerable<SkjaTextar.Models.Request>

@{
    ViewBag.Title = "Index";
}

<h2>Beiðnir</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            <p>Titill</p>
        </th>
        <th>
            <p>Tungumál</p>
        </th>
        <th>
            <p>Stig</p>
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            <p>@Html.ActionLink(item.Media.Title, "Details", "Request", new { id = item.ID }, null)</p>
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Language.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Score)
            @using (Html.BeginForm("RequestVote", "Request"))
            {
                @Html.Hidden("ID", item.ID)
                @Html.Hidden("Vote", true)
                <button><span class="glyphicon glyphicon-chevron-up"></span></button> 
            }

            @using (Html.BeginForm("RequestVote", "Request"))
            {
                @Html.Hidden("ID", item.ID)
                @Html.Hidden("Vote", false)
                <button><span class="glyphicon glyphicon-chevron-down"></span></button>
            }
        </td>
    </tr>
}

</table>
