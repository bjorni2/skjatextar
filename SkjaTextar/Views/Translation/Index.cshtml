@model PagedList.IPagedList<SkjaTextar.Models.TranslationSegment>
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
@{
    ViewBag.Title = "Index";
}

<div id="translationid" data-translationid="@ViewBag.TranslationID" class="hidden"></div>

<div class="row">
    <h2 class="col-md-10">@Html.ActionLink(ViewBag.MediaTitle as string, "Index", "Media", new { ID = ViewBag.MediaID }, null) - @ViewBag.LanguageName</h2>
</div>

<div>
    @if (TempData["UserMessage"] != null)
    {
        <p>@TempData["UserMessage"]</p>
    }
</div>

<div class="row">
    <div class="col-md-10">
        @Html.ActionLink("Umræður", "CommentIndex", "Translation", new { id = ViewBag.TranslationID }, new { @class = "btn btn-primary active", role = "button" })
        @Html.ActionLink("Sækja .srt skrá", "Download", "Translation", new { translationId = ViewBag.TranslationID, mediaId = ViewBag.MediaID }, new { @class = "btn btn-primary active", role = "button" })
        @Html.ActionLink("Tilkynna þýðingu", "Report", "Translation", new { translationID = ViewBag.TranslationID }, new { @class = "btn btn-primary active", role = "button" })
        @Html.ActionLink("Ný lína", "AddLine", "Translation", new { ID = ViewBag.TranslationID }, new { @class = "btn btn-primary active", role = "button" })
    </div>
</div>
<div class="row">
    <div class="col-md-10">
        @Html.PagedListPager(Model, page => Url.Action("Index", new { page, ID = ViewBag.TranslationID }))
    </div>
</div>
<div class="row">
    <div class="col-md-5">
        @foreach(var item in Model)
        {
            <p class="voffset5">@item.Timestamp</p>
            <p>@item.Original1</p>
            <div class="input-group input-group-lg">
                <input type="text" class="form-control" value="@item.Line1" readonly="readonly" />
                <span class="input-group-btn"><button data-line="1" data-segmentid="@item.SegmentID" class="btn btn-default edit" type="button"><span class="glyphicon glyphicon-edit"></span></button></span>
            </div>
            <p>@item.Original2</p>
            <div class="input-group input-group-lg">
                <input type="text" class="form-control" value="@item.Line2" readonly="readonly" />
                <span class="input-group-btn"><button data-line="2" data-segmentid="@item.SegmentID" class="btn btn-default edit" type="button"><span class="glyphicon glyphicon-edit"></span></button></span>
            </div>
        }
    </div>
</div>
<br />
Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount

@Html.PagedListPager(Model, page => Url.Action("Index", new { page, ID = ViewBag.TranslationID }))


@section Scripts {
    <script src="~/Scripts/TranslationSegment.js"></script>
}
